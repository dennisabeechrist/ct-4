<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Codebreaker Grid</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #0d0d0d;
      color: #00ffcc;
      font-family: 'Courier New', Courier, monospace;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }

    h1 {
      margin-bottom: 20px;
      color: #00ffff;
    }

    #grid {
      display: grid;
      grid-template-columns: repeat(5, 60px);
      grid-template-rows: repeat(5, 60px);
      gap: 10px;
    }

    .cell {
      width: 60px;
      height: 60px;
      background-color: #1a1a1a;
      border: 2px solid #00ffcc;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #00ffcc;
      font-weight: bold;
      transition: all 0.3s ease;
    }

    .cell.correct {
      background-color: #004d4d;
    }

    .cell.wrong {
      background-color: #ff3333;
    }

    #status {
      margin-top: 20px;
      color: #cccccc;
    }

    #flag {
      margin-top: 10px;
      font-size: 18px;
      color: #00ff99;
      display: none;
    }
  </style>
</head>
<body>
  <h1>üîê Codebreaker Grid</h1>
  <div id="grid"></div>
  <div id="status">Click the correct sequence of tiles to reveal the flag.</div>
  <div id="flag">üéâ Congratulations! Your flag is: <strong>flag{grid_master_1337}</strong></div>

  <script>
    const gridSize = 5;
    const correctSequence = ['0-0', '1-1', '2-2', '3-3', '4-4']; // Example: diagonal pattern
    let currentIndex = 0;

    const grid = document.getElementById('grid');
    const status = document.getElementById('status');
    const flag = document.getElementById('flag');

    // Create the grid
    for (let row = 0; row < gridSize; row++) {
      for (let col = 0; col < gridSize; col++) {
        const cell = document.createElement('div');
        cell.classList.add('cell');
        cell.dataset.position = `${row}-${col}`;
        cell.addEventListener('click', handleCellClick);
        grid.appendChild(cell);
      }
    }

    function handleCellClick(e) {
      const clicked = e.target.dataset.position;
      if (clicked === correctSequence[currentIndex]) {
        e.target.classList.add('correct');
        currentIndex++;
        status.textContent = `Good! ${correctSequence.length - currentIndex} more to go...`;

        if (currentIndex === correctSequence.length) {
          status.textContent = 'Access granted.';
          flag.style.display = 'block';
        }
      } else {
        // Reset
        resetGrid();
        status.textContent = 'Wrong sequence! Start over.';
      }
    }

    function resetGrid() {
      currentIndex = 0;
      document.querySelectorAll('.cell').forEach(cell => {
        cell.classList.remove('correct');
        cell.classList.remove('wrong');
      });
    }
  </script>
</body>
</html>
